<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tag 20 â€“ Winter-Leckerei</title>
  <link rel="stylesheet" href="../assets/style.css">
  <meta name="theme-color" content="#0b1220">
</head>
<body onload="adventEnsureAccess();">
  <div class="container">
    <div class="card">
      <div class="header">
        <div class="logo"><span class="emoji">ğŸª</span><h1>Tag 20: Winter-Leckerei</h1></div>
        <a class="lock" href="../index.html">â¬…ï¸ ZurÃ¼ck</a>
      </div>
      <p class="muted">Datum: 20.12.</p>
      <h2>RÃ¤tsel</h2>
      <p>Welches Dessert entsteht im Ofen mit Apfel, Zucker, Zimt und NÃ¼ssen?</p>
      
      <div style="height:8px"></div>
      <div class="row wrap">
        <input id="answer" class="input" placeholder="Deine Antwort hier eingeben â€¦" autocomplete="off">
        <button class="btn" onclick="solve()">LÃ¶sen</button>
        <button class="btn secondary" onclick="reveal()">LÃ¶sung anzeigen</button>
      </div>
      <div id="feedback" class="note hidden"></div>
      <hr>
      <div id="letterBox" class="hidden">
        <p>Geschafft! Der Buchstabe fÃ¼r heute ist:</p>
        <div class="letter">B</div>
      </div>
      <div class="footer"><small>Tipp: Notiere dir jeden Tages-Buchstaben. Am 24. ergibt sich die Botschaft.</small></div>
    </div>
  </div>
  <script src="../assets/config.js"></script>
  <script src="../assets/app.js"></script>
  <script>
    const ANSWERS = "bratapfel";
    const TODAY_LETTER = "B";
    function showLetter(){
      document.getElementById('letterBox').classList.remove('hidden');
      fireConfetti();
    }
    function setFeedback(msg, ok){
      const box = document.getElementById('feedback');
      box.textContent = msg;
      box.classList.remove('hidden');
      if(ok){ box.classList.add('success'); } else { box.classList.remove('success'); }
    }
    function solve(){
      const el = document.getElementById('answer');
      checkAnswer(el, ANSWERS, () => {
        setFeedback("Richtig! ğŸ’«", true);
        showLetter();
      }, () => {
        setFeedback("Fast! Versuche es noch einmal. â„ï¸", false);
      });
    }
    function reveal(){
      setFeedback("Die gesuchte Antwort war: " + ANSWERS.split('|')[0].toUpperCase(), true);
      showLetter();
    }
  </script>
</body>
</html>
